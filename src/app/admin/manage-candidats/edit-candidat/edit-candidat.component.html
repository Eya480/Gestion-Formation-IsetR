<div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col col-xl-10">
            <div class="card shadow-lg" style="border-radius: 1rem; backdrop-filter: blur(10px); background: rgba(255, 255, 255, 0.8);">
                <div class="row g-0">
                    <!-- Image Section -->
                    <div class="col-md-6 col-lg-5 d-none d-md-block">
                        <img src="../../../../assets/isett.jpg"
                            alt="Formulaire d'inscription" 
                            class="img-fluid" 
                            style="border-radius: 1rem 0 0 1rem; object-fit: cover; height: 100%;filter: blur(1px) brightness(0.7) contrast(1.2) saturate(2);" />
                    </div>
                    <!-- Form Section -->
                    <div class="col-md-7">
                        <div class="card-body p-5 d-flex flex-column justify-content-center">
                            <h2 class="text-center fw-bold mb-4">Editer le candidat(e) <br> <u>{{candidate.nom}}</u></h2>

                            <form id="EditForm" (ngSubmit)="editCandidate(f)" #f="ngForm">
                                <!-- Nom Input -->
                                <div class="form-floating mb-3">
                                    <input 
                                      type="text" 
                                      name="nom"
                                      id="nomInput" 
                                      ngModel #nom="ngModel" 
                                      class="form-control" 
                                      placeholder="Nom" 
                                      [(ngModel)]="candidate.nom"
                                      required
                                    >
                                    <label for="nomInput">*Nom</label>
                                    @if(nom.touched && nom.invalid){
                                        <span class="error">Ce champ est obligatoire!</span>
                                    }
                                </div>

                                <!-- Prénom Input -->
                                <div class="form-floating mb-3">
                                    <input 
                                      type="text" 
                                      id="prenomInput"
                                      name="prenom" 
                                      ngModel #prenom="ngModel"
                                      [(ngModel)]="candidate.prenom"
                                      class="form-control" 
                                      placeholder="Prénom" 
                                      required
                                    >
                                    <label for="prenomInput">*Prénom</label>
                                    @if(prenom.touched && prenom.invalid){
                                        <span class="error">Ce champ est obligatoire!</span>
                                    }
                                </div>

                                <!-- Email Input -->
                                <div class="form-floating mb-3">
                                    <input 
                                      type="email" 
                                      id="emailInput" 
                                      name="email"
                                      ngModel #email="ngModel"
                                      [(ngModel)]="candidate.email"
                                      class="form-control" 
                                      placeholder="Adresse e-mail" 
                                      required
                                    >
                                    <label for="emailInput">*Adresse e-mail</label>
                                    @if(email.touched && email.invalid){
                                        <span class="error">Email invalide</span>
                                    }
                                </div>
                                <!-- CIN Input -->
                                <div class="form-floating mb-3">
                                    <input 
                                      type="text" 
                                      id="cinInput" 
                                      name="cin"
                                      ngModel #cin="ngModel"
                                      [(ngModel)]="candidate.cin"
                                      class="form-control" 
                                      placeholder="Numéro CIN" 
                                      required
                                    >
                                    <label for="cinInput">*Numéro CIN</label>
                                    @if(cin.touched && cin.invalid){
                                        <span class="error">Ce champ est obligatoire!</span>
                                    }
                                </div>

                                <!-- Mot de Passe Input -->
                                <div class="form-floating mb-3">
                                    <input 
                                      type="password" 
                                      id="passwordInput" 
                                      name="pwd"
                                      ngModel #pwd="ngModel"
                                      [(ngModel)]="candidate.motDePasse"
                                      class="form-control" 
                                      placeholder="Mot de passe" 
                                      required
                                    >
                                    <label for="passwordInput">*Mot de passe</label>
                                    @if(pwd.touched && pwd.invalid){
                                        <span class="error">Ce champ est obligatoire!</span>
                                    }
                                </div>
                                <div class="form-floating mb-3">
                                    <input 
                                      type="text" 
                                      id="photoInput" 
                                      name="photo"
                                      class="form-control"
                                      ngModel #photo="ngModel"
                                      [(ngModel)]="candidate.photo"
                                      placeholder="Votre photo" 
                                     />
                                     <label for="passwordInput">Photo</label>
                                  </div>
                                <!-- Error Message -->
                                @if (errorMessage){
                                <div class="alert alert-danger mt-3" [innerHTML]="errorMessage">
                                                {{ errorMessage }}
                                </div>
                            }
                                <!-- Register Button -->
                                <div class="d-grid mb-4">
                                    <button type="submit" class="btn btn-primary btn-lg" [disabled]="f.invalid">
                                        Sauvgarder
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>